var addBylineModifiers=function(){var r="?m_bm=true",e=document.querySelectorAll('a[href$="'+r+'"]');Array.prototype.forEach.call(e,function(e,t){e.setAttribute("href",decodeURIComponent(e.getAttribute("href")).replace(r,"")),e.insertAdjacentHTML("beforebegin",molongui_authorship_front_params.byline_prefix+" "),e.insertAdjacentHTML("afterend"," "+molongui_authorship_front_params.byline_suffix)})},decodeMultiAuthorBylines=function(){var e=document.querySelectorAll('a[href*="molongui_byline=true"]');Array.prototype.forEach.call(e,function(e,t){var r=e.getAttribute("href"),r=new URL(decodeURIComponent(r)),i=new URLSearchParams(r.search),n=r.origin,r=r.pathname,a="";if(!i.has("molongui_byline"))return!1;if(i.has("lang")&&(a="?lang="+i.get("lang")),""===e.innerText)return i.has("m_main_disabled")?e.removeAttribute("href"):e.setAttribute("href",n+r+a),!1;var o,l=[molongui_authorship_front_params.byline_separator,molongui_authorship_front_params.byline_last_separator],s=e.innerText.split(new RegExp(l.join("|"),"gi")),u=(i.has("m_main_disabled")?(o=i.getAll("mca")).unshift("molongui-disabled-link"):(p=r.replace(/^\/|\/$/g,"").split("/").pop(),r.replace(/\/$/g,"").replace(p,""),(o=i.getAll("mca")).unshift(n+r+a)),""),m=s.length,p=e.getAttribute("class"),i=e.getAttribute("target"),n=e.getAttribute("rel"),r=e.getAttribute("itemprop"),_='class="'+(p?p+" ":"")+molongui_authorship_front_params.byline_link_class+'"',d=i?'target="'+i+'"':"",h=n?'rel="'+n+'"':"",c=r?'itemprop="'+r+'"':"",u=molongui_authorship_front_params.byline_dom_prepend;for(j=0;j<m;j++){var f=s[j].trim(),b="",b=""!==molongui_authorship_front_params.byline_dom_tree?molongui_authorship_front_params.byline_dom_tree.replace("{%ma_authorName}",f):f;"molongui-disabled-link"===o[j]||j>=o.length?u+=b:u+='<a href="'+o[j]+'" '+_+" "+h+" "+c+" "+d+' title="'+molongui_authorship_front_params.byline_link_title+" "+f+'">'+b+"</a>",j<m-1-1?u+=l[0]:j<m-1&&(u+=l[1])}u+=molongui_authorship_front_params.byline_dom_append,e.insertAdjacentHTML("afterend",u),e.parentNode.removeChild(e)})},disableEmptyLinks=function(){var e=document.querySelectorAll('a[href="#molongui-disabled-link"]');Array.prototype.forEach.call(e,function(e,t){e.classList.add("molongui-disabled-link"),e.removeAttribute("href")})},initBylines=function(){addBylineModifiers(),decodeMultiAuthorBylines(),disableEmptyLinks()};document.addEventListener("DOMContentLoaded",function(){initBylines();var e=document.body;new MutationObserver(function(e){Array.prototype.forEach.call(e,function(e,t){initBylines()})}).observe(e,{attributes:!0,childList:!0,subtree:!0,characterData:!0})});